<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Software Testing - Software Engineering</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../index.html">Software Engineering</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Chapters</li><li class="chapter-item expanded "><a href="../../chapters/DevOps/index.html"><strong aria-hidden="true">1.</strong> DevOps</a></li><li class="chapter-item expanded "><a href="../../chapters/Flutter/index.html"><strong aria-hidden="true">2.</strong> Flutter</a></li><li class="chapter-item expanded "><a href="../../chapters/Infrastructure_As_Code/index.html"><strong aria-hidden="true">3.</strong> Infrastructure As Code</a></li><li class="chapter-item expanded "><a href="../../chapters/Machine_Learning/index.html"><strong aria-hidden="true">4.</strong> Machine Learning</a></li><li class="chapter-item expanded "><a href="../../chapters/Software_Architecture/index.html"><strong aria-hidden="true">5.</strong> Software Architecture</a></li><li class="chapter-item expanded "><a href="../../chapters/Software_Testing/index.html" class="active"><strong aria-hidden="true">6.</strong> Software Testing</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Software Engineering</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="software-testing"><a class="header" href="#software-testing">Software Testing</a></h1>
<hr />
<h2 id="table-of-contents"><a class="header" href="#table-of-contents">Table of Contents</a></h2>
<ul>
<li><a href="#foundations-of-testing">Foundations of Testing</a>
<ul>
<li><a href="#test-case--test-suite">Test Case &amp; Test Suite</a></li>
<li><a href="#types-of-test-activities">Types of Test Activities</a></li>
</ul>
</li>
<li><a href="#software-testing-life-cycle-stlc">Software Testing Life Cycle (STLC)</a>
<ul>
<li><a href="#requirements-analysis">Requirements Analysis</a></li>
<li><a href="#test-planning">Test Planning</a></li>
<li><a href="#test-case-development">Test Case Development</a></li>
<li><a href="#environment-setup">Environment Setup</a></li>
<li><a href="#test-execution">Test Execution</a></li>
<li><a href="#test-cycle-closure">Test Cycle Closure</a></li>
</ul>
</li>
<li><a href="#unit-testing">Unit Testing</a>
<ul>
<li><a href="#characteristics">Characteristics</a></li>
<li><a href="#what-to-test">What to test?</a></li>
<li><a href="#when-to-test">When to test?</a></li>
</ul>
</li>
<li><a href="#junit">JUnit</a>
<ul>
<li><a href="#terminology">Terminology</a></li>
<li><a href="#junit-test-class">JUnit Test Class</a></li>
<li><a href="#junit-test-suite">JUnit Test Suite</a></li>
<li><a href="#junit-test-runner">JUnit Test Runner</a></li>
<li><a href="#junit-5">JUnit 5</a></li>
<li><a href="#annotations">Annotations</a></li>
<li><a href="#ignoring-a-test">Ignoring a Test</a></li>
<li><a href="#timeouts">Timeouts</a></li>
<li><a href="#expected-exceptions">Expected Exceptions</a></li>
<li><a href="#data-driven-testing">Data Driven Testing</a></li>
</ul>
</li>
<li><a href="#dependencies-using-doubles">Dependencies Using Doubles</a>
<ul>
<li><a href="#stubs">Stubs</a></li>
<li><a href="#test-lifecycle-with-stubs">Test Lifecycle with Stubs</a></li>
<li><a href="#mocks">Mocks</a></li>
<li><a href="#test-lifecycle-with-mocks">Test Lifecycle with Mocks</a></li>
<li><a href="#mockito">Mockito</a></li>
</ul>
</li>
<li><a href="#black-box-testing">Black Box Testing</a>
<ul>
<li><a href="#equivalent-class-testing-ect">Equivalent Class Testing (ECT)</a></li>
<li><a href="#weak--strong-ect">Weak / Strong ECT</a></li>
<li><a href="#boundary-value-testing-bvt">Boundary Value Testing (BVT)</a></li>
<li><a href="#limitations-bvt">Limitations BVT</a></li>
<li><a href="#robustness-testing">Robustness Testing</a></li>
<li><a href="#worst-case-testing-wct">Worst Case Testing (WCT)</a></li>
<li><a href="#category-partition-testing-cpt">Category Partition Testing (CPT)</a></li>
<li><a href="#decision-table-testing">Decision Table Testing</a></li>
<li><a href="#combinatorial-testing">Combinatorial Testing</a></li>
<li><a href="#profile-based-testing">Profile-Based Testing</a></li>
</ul>
</li>
<li><a href="#white-box-testing">White Box Testing</a>
<ul>
<li><a href="#control-flow-testing">Control Flow Testing</a></li>
<li><a href="#statement-coverage">Statement Coverage</a></li>
<li><a href="#decision-coverage">Decision Coverage</a></li>
<li><a href="#condition-coverage">Condition Coverage</a></li>
<li><a href="#modified-condition-decision-coverage-mcdc">Modified Condition-Decision Coverage (MC/DC)</a></li>
<li><a href="#path-coverage">Path Coverage</a></li>
<li><a href="#data-flow-testing">Data Flow Testing</a></li>
<li><a href="#def-and-use-path">Def And Use Path</a></li>
<li><a href="#all-defs-coverage">All-Defs Coverage</a></li>
<li><a href="#all-uses-coverage">All-Uses Coverage</a></li>
<li><a href="#all-du-paths-coverage">All-Du-Paths Coverage</a></li>
<li><a href="#coverage-tools">Coverage Tools</a></li>
</ul>
</li>
<li><a href="#mutation-testing">Mutation Testing</a></li>
</ul>
<hr />
<h2 id="foundations-of-testing"><a class="header" href="#foundations-of-testing">Foundations of Testing</a></h2>
<p><img src="./images/image3.png" alt="Testing" /></p>
<p>Software testing are the techniques to execute programs with the intent of finding as many defects as possible and/or gaining sufficient confidence in the software system under test.</p>
<h3 id="test-case--test-suite"><a class="header" href="#test-case--test-suite">Test Case &amp; Test Suite</a></h3>
<ul>
<li><strong>Test Case</strong>: Is a set of inputs and the expected outputs for a system under test.</li>
<li><strong>Test Suite</strong>: Is a set of test cases.</li>
</ul>
<p>Without the expected outputs, a test case is not complete.</p>
<ul>
<li><strong>Direct Input Variable</strong>: A variable that controls the operation directly. Example: arguments, entered data, selection menu, etc.</li>
<li><strong>Indirect Input Variable</strong>: A variable that only influences the operations or its effects are propagated to the operation. Example: traffic load, environment variables, etc.</li>
</ul>
<h3 id="types-of-test-activities"><a class="header" href="#types-of-test-activities">Types of Test Activities</a></h3>
<ul>
<li><strong>Test-Case Design - Exploratory (human-based)</strong>: Design test values based on domain knowledge of the program and human knowledge of testing, exploratory testing.</li>
<li><strong>Test-Case Design - Criteria-based</strong>: Design test values to satisfy coverage or other engineering goal.</li>
<li><strong>Test-Case Automation</strong>: Embed test values into executable scripts.</li>
<li><strong>Test-Case Execution</strong>: Run tests on the software and record the results.</li>
<li><strong>Test-Case Evaluation</strong>: Evaluate the results of the testing, report to developers.</li>
</ul>
<hr />
<h2 id="software-testing-life-cycle-stlc"><a class="header" href="#software-testing-life-cycle-stlc">Software Testing Life Cycle (STLC)</a></h2>
<p><img src="./images/image1.png" alt="Software Testing Life Cycle" /></p>
<ul>
<li>Requirement Analysis</li>
<li>Test Planning</li>
<li>Test Case Development</li>
<li>Environment Setup</li>
<li>Test Execution</li>
<li>Test Cycle Closure</li>
</ul>
<h4 id="requirements-analysis"><a class="header" href="#requirements-analysis">Requirements Analysis</a></h4>
<p>The process of analyzing the requirements from testing point of view to identify the testable requirements.</p>
<p>Requirements could be either:</p>
<ul>
<li><strong>Functional</strong>: Defining system software must do.</li>
<li><strong>Non-Functional</strong>: Defining system performance, security, availability, etc.</li>
</ul>
<h4 id="test-planning"><a class="header" href="#test-planning">Test Planning</a></h4>
<p>The process of defining the test strategy, test objectives, test estimation, test deliverables, test schedule, and test environment setup.</p>
<h4 id="test-case-development"><a class="header" href="#test-case-development">Test Case Development</a></h4>
<p>The process of developing test cases based on the test basis.</p>
<h4 id="environment-setup"><a class="header" href="#environment-setup">Environment Setup</a></h4>
<p>The process of setting up the test environment to execute the test cases.</p>
<h4 id="test-execution"><a class="header" href="#test-execution">Test Execution</a></h4>
<p>The process of executing the test cases and recording the results.</p>
<h4 id="test-cycle-closure"><a class="header" href="#test-cycle-closure">Test Cycle Closure</a></h4>
<p>The process of analyzing the test results, test logs, test reports, and test metrics obtained from the test execution phase to identify the test closure criteria.</p>
<hr />
<h2 id="unit-testing"><a class="header" href="#unit-testing">Unit Testing</a></h2>
<p>Ensure that each unit (i.e. subsystem, class or method) in isolation has been implemented correctly. Each method looks for a particular result and passes/fails. Often based on <code>white-box</code> testing.</p>
<h3 id="characteristics"><a class="header" href="#characteristics">Characteristics</a></h3>
<ul>
<li>A unit test must only test one specific unit of functionality (i.e class or method).</li>
<li>It is fast to execute.</li>
<li>It does not access a database or a file system.</li>
<li>It does not communicate via a network.</li>
<li>It does not require any special set up to the system environment such as modifying a configuration file.</li>
<li>It leaves the system and the system environment in the same state that it had prior to the test.</li>
<li>Focus on developed components only.</li>
</ul>
<h3 id="what-to-test"><a class="header" href="#what-to-test">What to test?</a></h3>
<ul>
<li>Focus on developed components and surroundings</li>
<li>One sample form each equivalent class of input data</li>
<li>Invalid data</li>
<li>Boundaries</li>
</ul>
<h3 id="when-to-test"><a class="header" href="#when-to-test">When to test?</a></h3>
<ul>
<li><strong>Waterfall</strong>: Typically written as the system has been developed.</li>
<li><strong>TDD</strong>: Each unit test is written before or during the corresponding code being written.</li>
</ul>
<h3 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h3>
<ul>
<li>Each test should test one thing only.</li>
<li>Each test method should have few assert statements.</li>
</ul>
<h2 id="junit"><a class="header" href="#junit">JUnit</a></h2>
<p><img src="./images/image4.png" alt="JUnit" /></p>
<ul>
<li>Java testing framework used to write and run tests</li>
<li>Open source</li>
<li>Helps test execution automation</li>
</ul>
<h3 id="terminology"><a class="header" href="#terminology">Terminology</a></h3>
<ul>
<li><strong>Test Drivers</strong>: Modules that act as temporary replacement for a calling module and give the same output as that of the actual product.</li>
<li><strong>Test Execution</strong>: The execution of an individual unit test procedure.</li>
</ul>
<pre><code class="language-java">@BeforeEach // Optional (setup)

@Test // Required (test case)

@AfterEach // Optional (cleanup)
</code></pre>
<ul>
<li><strong>Test Result Formatter</strong>: A test runner produces results in once or more output formats, e.i. text, XML, HTML, etc.</li>
<li><strong>Assertions</strong>: An assertion is a function or macro that verifies the behavior (or state) of the unit under test.</li>
</ul>
<pre><code class="language-java">import static org.junit.Assert.*; // Import all static assert methods

public class TestClass {
  @Test
  public void testMethod() {
    assertEquals(1, 1);           // Compare two values
    assertNotEquals(1, 2);        // Compare two values
    assertTrue(true);             // Check if true
    assertFalse(false);           // Check if false
    assertNull(null);             // Check if null
    assertNotNull(1);             // Check if not null
    assertSame(1, 2);             // Check if object is same
    assertNotSame(1, 1.5);        // Check if object not same
    fail("Not yet implemented");  // Fail test
  }
}
</code></pre>
<h3 id="junit-test-class"><a class="header" href="#junit-test-class">JUnit Test Class</a></h3>
<ul>
<li>A method with <code>@Test</code> is flagged as JUnit test case.</li>
<li>All <code>@Test</code> methods run when JUnit runs your test class.</li>
</ul>
<pre><code class="language-java">import org.junit.Test;

public class TestClass {
  @Test
  public void testMethod() {
    // Test method
  }
}
</code></pre>
<h3 id="junit-test-suite"><a class="header" href="#junit-test-suite">JUnit Test Suite</a></h3>
<ul>
<li>A test suite is a collection of test cases.</li>
<li>The suite construction is done by using <code>@RunWith</code> and <code>@Suite</code> annotations.</li>
</ul>
<pre><code class="language-java">package com.example.tests; // Optional for running tests in command line

import org.junit.runner.RunWith;
import org.junit.runners.Suite;

@RunWith(Suite.class)
@Suite.SuiteClasses({
  TestClass1.class,
  TestClass2.class
})

public class TestSuite {}
</code></pre>
<h3 id="junit-test-runner"><a class="header" href="#junit-test-runner">JUnit Test Runner</a></h3>
<ul>
<li>Create a java class file named <code>TestRunner.java</code>.</li>
<li>Compile all the java classes using <code>javac</code> compiler.</li>
<li>Run the <code>TestRunner</code> class using <code>java</code> command.</li>
</ul>
<pre><code class="language-java">import org.junit.runner.JUnitCore;
import org.junit.runner.Result;
import org.junit.runner.notification.Failure;

public class TestRunner {
  public static void main(String[] args) {
    Result result = JUnitCore.runClasses(TestSuite.class);

    for (Failure failure : result.getFailures()) {
      System.out.println(failure.toString());
    }

    System.out.println(result.wasSuccessful());
  }
}
</code></pre>
<h3 id="junit-5"><a class="header" href="#junit-5">JUnit 5</a></h3>
<pre><code class="language-java">import static org.junit.Assert.*;

import org.junit.Before;
import org.junit.After;
import org.junit.Test;

public class TestClass {
  Tournament tournament;

  @BeforeEach // Optional (setup)
  public void before() throws Exception {
    System.out.println("Before");
    tournament = new Tournament(100, 60);
  }

  @Test // Required (test case)
  public void testGetBestTeam() {
    assertNotNull(tournament);

    Team team = tournament.getBestTeam();
    assertNotNull(team);
    assertEquals(100, team.getPoints());
  }

  @AfterEach // Optional (cleanup)
  public void after() throws Exception {
    System.out.println("After");
    tournament = null;
  }
}
</code></pre>
<h3 id="annotations"><a class="header" href="#annotations">Annotations</a></h3>
<p>Additional annotations for JUnit 5.</p>
<p><img src="./images/image2.png" alt="JUnit Annotations" /></p>
<h3 id="ignoring-a-test"><a class="header" href="#ignoring-a-test">Ignoring a Test</a></h3>
<p>Use <code>@Ignore</code> annotation to ignore a test.</p>
<pre><code class="language-java">import org.junit.Disabled;

@Disabled("Disabled until bug #99 has been fixed")
@Test
public void testMethod() {
  // Test method to be ignored
}
</code></pre>
<h3 id="timeouts"><a class="header" href="#timeouts">Timeouts</a></h3>
<p>Use <code>timeout</code> parameter added to <code>@Test</code> annotation, with timeout parameter you can specify a value (in milliseconds) that you expect to be the upper limit of the time you spend executing your test.</p>
<pre><code class="language-java">import org.junit.Test;

@Test(timeout = 1000) // 1000 milliseconds
public void testTimeout() {
  // Test method
}
</code></pre>
<h3 id="expected-exceptions"><a class="header" href="#expected-exceptions">Expected Exceptions</a></h3>
<p>To catch (expected) exceptions thrown by JUnit tests, use <code>@Test</code> annotation's <code>expected</code> parameter.</p>
<pre><code class="language-java">import org.junit.Test;

@Test(expected = NotFoundException.class)
public void testNotFoundException() throws NotFoundException {
  // Test method
}
</code></pre>
<h3 id="data-driven-testing"><a class="header" href="#data-driven-testing">Data Driven Testing</a></h3>
<p>Data driven unit tests call a constructor for each collection of test values.</p>
<pre><code class="language-java">import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.Parameterized;
import org.junit.runners.Parameterized.Parameters;
import static org.junit.Assert.assertTrue;

@RunWith(Parameterized.class) // Parameterized test runner
public class TestClass {
  private int a;
  private int b;
  private int sum;

  // Constructor
  public TestClass(int a, int b, int sum) {
    this.a = a;
    this.b = b;
    this.sum = sum;
  }

  @Parameters // Creating the set of test values
  public static Collection&lt;Object[]&gt; parameters() {
    return Arrays.asList(new Object[][] {
      { 1, 1, 2 },  // Test 1
      { 2, 2, 4 },  // Test 2
      { 3, 2, 5 },  // Test 3
      { 4, 3, 7 },  // Test 4
      { 5, 3, 8 }   // Test 5
    });
  }

  @BeforeAll // Setup
  public static void setUpCalculator() throws Exception {
    calculator = new Calculator();
  }

  @Test // Test case
  public void testAdd() {
    assertTrue("Addition Test", this.sum == calculator.add(this.a, this.b));
  }

  @AfterAll // Cleanup
  public static void tearDownCalculator() throws Exception {
    calculator = null;
  }
}
</code></pre>
<hr />
<h2 id="dependencies-using-doubles"><a class="header" href="#dependencies-using-doubles">Dependencies Using Doubles</a></h2>
<p><img src="./images/image5.png" alt="Mockito" /></p>
<ul>
<li>Typically SUT (system under test) has dependencies.</li>
<li>Unit tests should not have dependencies.</li>
<li>If the SUT collaborates with any others classes, those classes are referred to as <code>depended on components</code> (DOC).</li>
<li>A test double is a replacement for a DOC.</li>
</ul>
<p>Example:</p>
<ol>
<li>A system might send an email to a user.</li>
<li>Since we do not want to send an email to a user every time we run a test, we use a test double to replace the email sending component.</li>
<li>We want to verify that the system sends an email to the user.</li>
</ol>
<p><strong>NOTE</strong>: External dependencies <em>MUST</em> be removed from unit testing.</p>
<h3 id="stubs"><a class="header" href="#stubs">Stubs</a></h3>
<ul>
<li>Is a fake class that comes with preprogrammed return values</li>
<li>It's injected into the class under test to give control over what's being tested as input.</li>
<li>Supplies responses to requests from the SUT.</li>
</ul>
<p>Example:</p>
<ul>
<li>A database connection that allows you to mimic any connection scenario without having s real database.</li>
</ul>
<h3 id="test-lifecycle-with-stubs"><a class="header" href="#test-lifecycle-with-stubs">Test Lifecycle with Stubs</a></h3>
<ol>
<li><strong>Setup</strong>: Prepare SUT that is being tested and its stubs collaborators. Usually in <code>@BeforeAll</code> method.</li>
<li><strong>Exercise</strong>: Test the functionality. Usually in <code>@Test</code> method.</li>
<li><strong>Verify State</strong>: Use asserts to check object's state.</li>
<li><strong>Teardown</strong>: Clean up resources. Unsually in <code>@AfterAll</code> method.</li>
</ol>
<h3 id="mocks"><a class="header" href="#mocks">Mocks</a></h3>
<ul>
<li>A fake object that decides whether a test has passed or failed by watching interactions between objects.</li>
<li>Dummy implementation of an interface or class in Mock framework.</li>
<li>Needed when a unit of code under test depends upon an external object.</li>
</ul>
<p>Example:</p>
<ul>
<li>You can ask it whether a method was called or how many times it was called. Typically mocks are classes with side effects that need to be examined.</li>
</ul>
<h3 id="test-lifecycle-with-mocks"><a class="header" href="#test-lifecycle-with-mocks">Test Lifecycle with Mocks</a></h3>
<ol>
<li><strong>Setup Data</strong>: Prepare object that is being tested.</li>
<li><strong>Setup Expectations</strong>: Prepare expectations in mock that is being used by primary object.</li>
<li><strong>Exercise</strong>: Test the functionality.</li>
<li><strong>Verify Expectations</strong>: Verify that correct methods have been invoked in mocks.</li>
<li><strong>Teardown</strong>: Clean up resources.</li>
</ol>
<h3 id="mockito"><a class="header" href="#mockito">Mockito</a></h3>
<ul>
<li>Is a mocking framework for Java.</li>
<li>Auto-generation of mock objects that implement a given interface.</li>
<li>Logging of what calls are made to the mock objects.</li>
</ul>
<pre><code class="language-java">// GradesService.java

public class GradesService {
  private final Gradebook gradebook;

  public GradesService(Gradebook gradebook) {
    this.gradebook = gradebook;
  }

  Double averageGrades(Student student) {
    return average(gradebook.gradesFor(student));
  }
}

</code></pre>
<pre><code class="language-java">// GradesServiceTest.java

import static org.mockito.Mockito.*;
import static org.junit.Assert.*;
import org.junit.*;

public class GradesServiceTest {
  private Gradebook gradebook;
  private Student student;

  @BeforeAll // Setup
  public static void setUp() {
    this.gradebook = mock(Gradebook.class);
    this.student = new Student();
  }

  @Test // Test case
  public void testAverageGrades() {
    when(gradebook.gradesFor(student)).thenReturn(grades(9.0, 8.0, 7.0));

    GradesService gradesService = new GradesService(this.gradebook);
    Double average = gradesService.averageGrades(this.student);

    assertEquals(8.0, average);
  }

  @AfterAll // Cleanup
  public static void cleanUp() {
    this.gradebook = null;
    this.student = null;
  }
}
</code></pre>
<ul>
<li><code>mock()</code> method takes a class or an interface as an argument and creates a mock object of given class or interface.</li>
<li><code>when()</code> method takes a method call on mock object as an argument and defines return value for that method call.</li>
<li><code>thenReturn()</code> method defines return value for the method call. If you specify more than one value, they will be returned in sequence until the last one is used.</li>
</ul>
<hr />
<h2 id="black-box-testing"><a class="header" href="#black-box-testing">Black Box Testing</a></h2>
<p><img src="./images/image6.png" alt="Black Box Testing" /></p>
<p>Black Box testing applies at all granularity levels of testing.</p>
<ul>
<li>
<p><strong>Unit Testing</strong>: From module interface specification.</p>
</li>
<li>
<p><strong>Integration Testing</strong>: From the API or subsystem specification.</p>
</li>
<li>
<p><strong>System Testing</strong>: From the system specification.</p>
</li>
<li>
<p><strong>Regression Testing</strong>: From system requirements + bug history.</p>
</li>
</ul>
<h3 id="equivalent-class-testing-ect"><a class="header" href="#equivalent-class-testing-ect">Equivalent Class Testing (ECT)</a></h3>
<ul>
<li>
<p>You divide the set into partition that can be considered the same.</p>
</li>
<li>
<p>Partitions of input space in such a way that input data have the same effect on the system.</p>
</li>
<li>
<p>They all test the same unit (method, class, etc).</p>
</li>
<li>
<p>Entire input set is covered by the test cases.</p>
</li>
<li>
<p>They entire set of inputs can be divided into <code>Expected (E)</code> and <code>Unexpected (U)</code> inputs.</p>
</li>
</ul>
<h3 id="weak--strong-ect"><a class="header" href="#weak--strong-ect">Weak / Strong ECT</a></h3>
<ul>
<li><strong>Weak Equivalence Class Testing (one-dimensional)</strong>: Choosing one variable value form each equivalence class (one A, B, and C) such that all classes are covered.</li>
</ul>
<p><code>max(|A|, |B|, |C|)</code></p>
<p>Example:</p>
<ul>
<li>A = {1, 2, 3, 4}</li>
<li>B = {5, 6}</li>
<li>C = {7, 8, 9}</li>
</ul>
<p>max(4, 2, 3) = 4</p>
<ul>
<li><strong>Strong Equivalence Class Testing (multi-dimensional)</strong>: Based on the Cartesian product of the partition subsets (A x B x C). Testing all interactions of all equivalence classes.</li>
</ul>
<p><code>|A| x |B| x |C|</code></p>
<p>Example:</p>
<ul>
<li>A = {1, 2, 3, 4}</li>
<li>B = {5, 6}</li>
<li>C = {7, 8, 9}</li>
</ul>
<p>4 x 2 x 3 = 24</p>
<h3 id="boundary-value-testing-bvt"><a class="header" href="#boundary-value-testing-bvt">Boundary Value Testing (BVT)</a></h3>
<ul>
<li>
<p>While equivalence partitioning selects tests from within equivalence classes, boundary value analysis focuses on tests at and near the boundaries of equivalence classes.</p>
</li>
<li>
<p>Tests derived using either of the two techniques may overlap.</p>
</li>
<li>
<p>For each equivalence class, setting values for input variable just below the min, at the min, just above the min, a nominal value, just below the max, at the max and just above the max.</p>
</li>
<li>
<p>Typical strategy for all input variables: Holding the values of all but one variable at their nominal values, letting one variable take each of the above combinations.</p>
</li>
</ul>
<p><img src="./images/image8.png" alt="Boundary Value Testing" /></p>
<h3 id="limitations-bvt"><a class="header" href="#limitations-bvt">Limitations BVT</a></h3>
<p>For n independent variables, the number of test cases is:</p>
<p><code>4n + 1</code></p>
<p>Example:</p>
<p>Suppose we are testing a software module of an editor system that allows a user to enter new font identifiers into a font database. The following are the requirements for the font identifier:</p>
<ul>
<li>
<p>Spec. 1:</p>
<ul>
<li>
<p>C1. Font name is alphanumeric, valid</p>
</li>
<li>
<p>C2. Font name is not alphanumeric, invalid</p>
</li>
</ul>
</li>
<li>
<p>Spec. 2:</p>
<ul>
<li>
<p>C3. Font identifier has between 3 and 15 characters, valid</p>
</li>
<li>
<p>C4. Font identifier has less than 3 characters, invalid</p>
</li>
<li>
<p>C5. Font identifier has greater than 15 characters, invalid</p>
</li>
</ul>
</li>
<li>
<p>Spec. 3:</p>
<ul>
<li>
<p>C6. The first 2 characters are letters, valid</p>
</li>
<li>
<p>C7. The first 2 characters are not letters, invalid</p>
</li>
</ul>
</li>
</ul>
<p>For font identifier the values for the bounds groups are:</p>
<ul>
<li>
<p>BLB — 2</p>
</li>
<li>
<p>LB — 3</p>
</li>
<li>
<p>ALB — 4</p>
</li>
<li>
<p>BUB — 14</p>
</li>
<li>
<p>UB — 15</p>
</li>
<li>
<p>AUB — 16</p>
</li>
<li>
<p>NOM — anything between 4 and 14</p>
</li>
</ul>
<p><img src="./images/image7.png" alt="Boundary Value Testing" /></p>
<h3 id="robustness-testing"><a class="header" href="#robustness-testing">Robustness Testing</a></h3>
<ul>
<li>
<p>Robustness testing is the degree to which a component or system can function correctly in the presence of invalid inputs or stressful environmental conditions.</p>
</li>
<li>
<p>In Robustness testing the BLB and AUB are also included in test cases</p>
</li>
</ul>
<p><img src="./images/image9.png" alt="Robustness Testing" /></p>
<h3 id="worst-case-testing-wct"><a class="header" href="#worst-case-testing-wct">Worst Case Testing (WCT)</a></h3>
<ul>
<li>
<p>The worst case testing originates from the concept that more than one variable has extreme values.</p>
</li>
<li>
<p>Good strategy when physical variables have numerous interactions and failure is costly.</p>
</li>
</ul>
<p><img src="./images/image10.png" alt="Worst Case Testing" /></p>
<h3 id="category-partition-testing-cpt"><a class="header" href="#category-partition-testing-cpt">Category Partition Testing (CPT)</a></h3>
<ul>
<li>
<p>Combines boundary value analysis and equivalent classes with domain expertise.</p>
</li>
<li>
<p>You can define constraints as well.</p>
</li>
</ul>
<h3 id="decision-table-testing"><a class="header" href="#decision-table-testing">Decision Table Testing</a></h3>
<ul>
<li>
<p>Can help us deal with combination of inputs which produce different results, only one of which is correct.</p>
</li>
<li>
<p>Number of possible combinations is given by <code>2^n</code> (if binary), where n is the number of inputs.</p>
</li>
<li>
<p>Some combinations are meaningless and/or you cannot test all but you will choose a rich sub-set of the possible combinations using decision based testing technique.</p>
</li>
</ul>
<p><img src="./images/image11.png" alt="Decision Table Testing" /></p>
<h3 id="combinatorial-testing"><a class="header" href="#combinatorial-testing">Combinatorial Testing</a></h3>
<p>Combinatorial or t-way testing is a proven method for more effective testing at lower cost. NIST research showed that most software bugs and failures are caused by one or two parameters, with progressively fewer by three or more, which means that combinatorial testing can provide more efficient fault detection than conventional methods.</p>
<p><img src="./images/image12.png" alt="Combinatorial Testing" /></p>
<ul>
<li>
<p><code>k</code> factors (number of parameters/configurations)</p>
</li>
<li>
<p><code>t</code> interactions (t-way testing)</p>
</li>
<li>
<p><code>l</code> levels: possible values for each factor</p>
</li>
</ul>
<p>The usage of NIST's combinatorial testing tool, Automated Combinatorial Testing for Software (ACTS), can help you to generate test cases for combinatorial testing.</p>
<p><a href="https://csrc.nist.gov/projects/automated-combinatorial-testing-for-software/downloadable-tools"><strong><em>Download ACTS</em></strong></a></p>
<h3 id="profile-based-testing"><a class="header" href="#profile-based-testing">Profile-Based Testing</a></h3>
<ul>
<li>
<p>Profile for a phenomenon is a set of disjoint alternatives called <strong><em>elements</em></strong> or <strong><em>features</em></strong> that represent that phenomenon together with their occurrence probabilities.</p>
</li>
<li>
<p>Operational Profile is the set of operations (operation names and frequencies) and their probabilities of occurrences.</p>
</li>
<li>
<p>Tabular representation is composed of a list of operation names and their probability of
occurrence.</p>
</li>
</ul>
<p>Example:</p>
<p>Assume that the following is the operational profile for a VCR system. The following table shows the usages scenario of each function depending on the starting state (rows) data that has been collected through analysis of customers’ behavior.</p>
<ul>
<li>
<p>Stop (STOP)</p>
</li>
<li>
<p>Rewind (REWIND)</p>
</li>
<li>
<p>Play (PLAY)</p>
</li>
<li>
<p>Fast Forward (FF)</p>
</li>
<li>
<p>Record (REC)</p>
</li>
</ul>
<p><img src="./images/image13.png" alt="Profile-Based Testing" /></p>
<hr />
<h2 id="white-box-testing"><a class="header" href="#white-box-testing">White Box Testing</a></h2>
<p>Also known as structural testing, glass box or open box testing.</p>
<p>A software testing technique in which explicit knowledge of the internal working of SUT is used to select tests, execute tests and collect test data.</p>
<p>Unlike black box testing that is using the program specification to examine outputs, white box testing is based on specific knowledge of the source code to define the test cases and to examine outputs.</p>
<h3 id="control-flow-testing"><a class="header" href="#control-flow-testing">Control Flow Testing</a></h3>
<h3 id="statement-coverage"><a class="header" href="#statement-coverage">Statement Coverage</a></h3>
<p>Statement coverage is a white-box testing method that covers all nodes in a control flow graph. In general, several test cases are required to achieve 100% statement coverage. The goal of statement coverage is to ensure that each line of code is executed at least once. It is calculated as follows:</p>
<p><code>Statement Coverage = (Number of Executed Statements / Total Number of Statements) * 100</code></p>
<p><img src="./images/image14.png" alt="Statement Coverage" /></p>
<p><em>Usually, the percentage of statement coverage is done by the testing tool.</em></p>
<h3 id="decision-coverage"><a class="header" href="#decision-coverage">Decision Coverage</a></h3>
<p>Select a test set such that, by executing the program for each test case in the set, each edge of CFG’s decision (predicate) node(s) is traversed at least once. The goal of decision coverage is to ensure that each decision in the code is executed at least once. It is calculated as follows:</p>
<p><code>Decision Coverage = (Number of Executed Decisions / Total Number of Decisions) * 100</code></p>
<p><img src="./images/image15.png" alt="Decision Coverage" /></p>
<p><em>Usually, the percentage of decision coverage is done by the testing tool.</em></p>
<h3 id="condition-coverage"><a class="header" href="#condition-coverage">Condition Coverage</a></h3>
<p>Condition coverage is a more powerful test coverage criteria. Design a test set such that each individual condition in the program to be both True and False (regardless of the truth or falsity of predicates combining those conditions). The goal of condition coverage is to ensure that each condition in the code is executed at least once. It is calculated as follows:</p>
<p><code>Condition Coverage = (Number of Executed Conditions / Total Number of Conditions) * 100</code></p>
<p><img src="./images/image16.png" alt="Condition Coverage" /></p>
<p><em>Usually, the percentage of condition coverage is done by the testing tool.</em></p>
<h3 id="modified-condition-decision-coverage-mcdc"><a class="header" href="#modified-condition-decision-coverage-mcdc">Modified Condition-Decision Coverage (MC/DC)</a></h3>
<p>Modified condition/decision coverage (MC/DC) effectively tests “important combinations” of conditions. Only combinations of values such that every atomic condition Ci toggles (impacts) the overall condition’s truth value (True and False), i.e., the outcome of a decision changes as a result of changing each single condition.</p>
<p><img src="./images/image17.png" alt="MC/DC Coverage" /></p>
<h3 id="path-coverage"><a class="header" href="#path-coverage">Path Coverage</a></h3>
<p>Path coverage selects a test set such that by executing the program for each test case, all paths leading from the initial to the final node of program’s control flow graph are traversed. Path coverage counts the number of full paths from input to output through a program that get executed. Full path coverage will lead to full branch coverage.</p>
<p><img src="./images/image18.png" alt="Path Coverage" /></p>
<h3 id="data-flow-testing"><a class="header" href="#data-flow-testing">Data Flow Testing</a></h3>
<p>Test the connections between variable definitions (“write”) and variable uses (“read”).
Starting point: variation of the control flow graph (CFG) annotated with location of defined and used variables.</p>
<h3 id="def-and-use-path"><a class="header" href="#def-and-use-path">Def And Use Path</a></h3>
<ul>
<li>
<p><strong>def</strong>: A variable is defined.</p>
</li>
<li>
<p><strong>use</strong>: A variable is used.</p>
</li>
<li>
<p><strong>du-pair</strong>: A pair of def and use.</p>
</li>
<li>
<p><strong>du-path</strong>: A path from a def to a use.</p>
</li>
<li>
<p><strong>def-clear path</strong>: A path from a def to a use that is not affected by any other def.</p>
</li>
<li>
<p><strong>Predicate use (p-use)</strong>: A variable is used to decide whether a predicate evaluates to true or false (e.g., in an if statement).</p>
</li>
</ul>
<pre><code class="language-java">if (x &gt; 0) { // x is a predicate use
  y = 1;
} else {
  y = 2;
}
</code></pre>
<ul>
<li><strong>Computational use (c-use)</strong>: Compute a value for defining other variables or output values (e.g., in an assignment statement).</li>
</ul>
<pre><code class="language-java">z = x + y; // x and y are used to compute z
</code></pre>
<ul>
<li>
<p><strong>CU</strong>: Total number of c-uses.</p>
</li>
<li>
<p><strong>PU</strong>: Total number of p-uses.</p>
</li>
</ul>
<h3 id="all-defs-coverage"><a class="header" href="#all-defs-coverage">All-Defs Coverage</a></h3>
<p>All-Defs coverage is a white-box testing method that covers all definitions of a variable in a program. The goal of all-defs coverage is to ensure that for each def, at least one use must be reached.</p>
<p><img src="./images/image19.png" alt="All-Defs Coverage" /></p>
<h3 id="all-uses-coverage"><a class="header" href="#all-uses-coverage">All-Uses Coverage</a></h3>
<p>All-Uses coverage is a white-box testing method that covers all uses of a variable in a program. The goal of all-uses coverage is to ensure that for each def, all uses must be reached.</p>
<p><img src="./images/image20.png" alt="All-Uses Coverage" /></p>
<h3 id="all-du-paths-coverage"><a class="header" href="#all-du-paths-coverage">All-Du-Paths Coverage</a></h3>
<p>All-Du-Paths coverage is a white-box testing method that covers all du-paths in a program. The goal of all-du-paths coverage is to ensure that for each def-use pair, all paths between defs and uses must be covered.</p>
<p><img src="./images/image21.png" alt="All-Du-Paths Coverage" /></p>
<h3 id="coverage-tools"><a class="header" href="#coverage-tools">Coverage Tools</a></h3>
<ul>
<li>
<p>One advantage of coverage criteria is that it can be measured automatically.</p>
</li>
<li>
<p>Helps us in measuring how much unit testing has been done and how much is left.</p>
</li>
<li>
<p>Java has a number of coverage tools that can be used to measure the coverage of the code, such as:</p>
<ul>
<li>
<p><strong>CodeCover</strong>: An open-source code coverage tool for Java under Eclipse.</p>
</li>
<li>
<p><strong>Emma</strong>: A free Java tool that calculates the percentage of code accessed by tests.</p>
</li>
</ul>
</li>
</ul>
<p><img src="./images/image22.png" alt="Coverage Tools" /></p>
<hr />
<h2 id="mutation-testing"><a class="header" href="#mutation-testing">Mutation Testing</a></h2>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../chapters/Software_Architecture/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../chapters/Software_Architecture/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
